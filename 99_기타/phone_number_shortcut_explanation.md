# 전화번호 인식 후 문자 발송 단축어 - JSON 구조 설명

## JSON 구조 개요

이 단축어는 다음과 같은 주요 액션으로 구성되어 있습니다:

1. **메뉴에서 선택 (is.workflow.actions.choosefrommenu)**
   - 전화번호 입력 방식 선택을 위한 메뉴를 표시합니다.
   - "카메라로 전화번호 스캔"과 "직접 전화번호 입력" 두 가지 옵션을 제공합니다.

2. **사진 촬영 (is.workflow.actions.takephoto)**
   - 아이폰 카메라를 실행하여 사진을 촬영합니다.
   - 미리보기를 표시하고, 후면 카메라를 사용합니다.
   - 카메라 스캔 옵션을 선택한 경우에만 실행됩니다.

3. **이미지에서 데이터 감지 (is.workflow.actions.detectdatafromimage)**
   - iOS의 내장 OCR 기능을 사용하여 이미지에서 전화번호를 인식합니다.
   - `WFDetectDataType`: "Phone Numbers"로 설정하여 전화번호만 인식하도록 합니다.
   - 카메라 스캔 옵션을 선택한 경우에만 실행됩니다.

4. **조건문 (is.workflow.actions.conditional)**
   - 전화번호가 인식되지 않았을 경우 처리를 위한 조건문입니다.
   - 인식된 데이터가 비어있는지 확인합니다.
   - 카메라 스캔 옵션을 선택한 경우에만 실행됩니다.

5. **알림 표시 (is.workflow.actions.alert)**
   - 전화번호 인식 실패 시 사용자에게 알림을 표시합니다.
   - 카메라 스캔 옵션을 선택한 경우에만 실행됩니다.

6. **사용자 입력 요청 (is.workflow.actions.askforsomething)**
   - 사용자에게 문자를 보낼 전화번호를 직접 입력하도록 요청합니다.
   - 기본값으로 "010-"이 미리 입력되어 있습니다.
   - 직접 입력 옵션을 선택한 경우에만 실행됩니다.

5. **메뉴에서 선택 (is.workflow.actions.choosefrommenu)**
   - 담당자 목록을 표시하고 사용자가 선택할 수 있게 합니다.
   - 8개의 담당자 정보가 메뉴 항목으로 포함되어 있습니다.

6. **항목 이름 설정 (is.workflow.actions.setitemname)**
   - 선택한 담당자 정보를 "선택된담당자" 변수에 저장합니다.
   - 각 메뉴 옵션마다 해당하는 담당자 정보가 변수에 저장됩니다.

7. **문자 메시지 전송 (is.workflow.actions.sms)**
   - 인식된 전화번호로 문자 메시지를 작성합니다.
   - 수신자: 인식된 전화번호 (DetectedData 변수)
   - 메시지: 선택된 담당자 정보를 포함한 형식화된 메시지

8. **결과 표시 (is.workflow.actions.showresult)**
   - 문자 발송 완료 후 성공 메시지를 표시합니다.

## 주요 변수 설명

1. **DetectedData**: 이미지에서 인식된 전화번호가 저장됩니다.
2. **선택된담당자**: 사용자가 메뉴에서 선택한 담당자 정보가 저장됩니다.

## 담당자 목록

단축어에 포함된 담당자 목록은 다음과 같습니다:
- 김성삼 책임 010-3233-4321
- 김태진 책임 010-2582-1877
- 임현기 책임 010-3827-9725
- 이성훈 책임 010-8536-3253
- 김주성 책임 010-6481-0664
- 이정훈 책임 010-3897-9167
- 길진철 부장 010-2213-7482
- 이윤형 부장 010-7415-4321

## 메시지 형식

문자 메시지는 다음과 같은 형식으로 작성됩니다:
```
[한빛아카데미]
담당 영업자
(선택된 담당자 정보)
감사합니다
```

## 구조적 특징

- **조건부 분기**: 전화번호 인식 실패 시의 조건부 분기와 담당자 선택을 위한 메뉴 구조가 있습니다.
- **선택 메뉴**: 여러 담당자 중 하나를 선택하기 위한 메뉴 시스템이 구현되어 있습니다.
- **사용자 피드백**: 오류 발생 시 알림을 표시하고, 작업 완료 시 성공 메시지를 표시합니다.

## 커스터마이징 포인트

- **담당자 목록**: `is.workflow.actions.choosefrommenu` 액션의 `WFMenuItems` 배열을 수정하여 담당자 목록을 변경할 수 있습니다.
- **메시지 형식**: `is.workflow.actions.sms` 액션의 `WFSMSActionMessage` 값을 변경하여 문자 메시지 형식을 수정할 수 있습니다.
- **카메라 설정**: `is.workflow.actions.takephoto` 액션의 파라미터를 변경하여 카메라 관련 설정을 수정할 수 있습니다.
